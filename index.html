<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Go!</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link href="indexcss.css" rel="stylesheet">
  </head>
  <body>
    <div class="container">
        <h1 class="display-1 text-center text-success">Go!</h1>
        <div class="row justify-content-center align-items-center inner-row">
            <div class="col-md-5">
                <div class="form-box login-form p-5">
                    <div class="form-title">
                        <h2 class="fw-bold mb-3 text-center">Login</h2>
                    </div>
                    <div class="button-box">
                        <div id="btn"></div>
                        <button type="button" class="toggle-btn login-show">Log-in</button>
                        <button type="button" class="toggle-btn signup-show">Sign-up</button>
                    </div>
                    <form action="">
                        <div class="form-floating mb-3">
                            <input type="email" class="form-control form-control-sm" placeholder="Email" id="floatingInput">
                            <label for="floatingInput">Email</label>
                        </div>
                        <div class="form-floating mb-3">
                            <input type="password" class="form-control form-control-sm" placeholder="Password" id="floatingPassword">
                            <label for="floatingPassword">Password</label>
                        </div>
                        <div class="mt-3 text-center">
                            <button class="btn1 primaryBg text-white">Login</button>
                        </div>
                    </form>
                </div>


                <div class="form-box registration-form p-4">
                    <div class="form-title">
                        <h2 class="fw-bold mb-3 text-center">Create An Account</h2>
                    </div>
                    <div class="button-box">
                        <button type="button" class="toggle-btn login-show">Log-in</button>
                        <button type="button" id="btn2" class="toggle-btn signup-show">Sign-up</button>
                    </div>
                    <form action="">
                        <div class="form-floating mb-3">
                            <input type="text" class="form-control form-control-sm" placeholder="Username" id="floatingUsername">
                            <label for="floatingUsername">Username</label>
                        </div>
                        <div class="form-floating mb-3">
                            <input type="email" class="form-control form-control-sm" placeholder="Email" id="floatingEmail">
                            <label for="floatingEmail">Email</label>
                        </div>
                        <div class="form-floating mb-3">
                            <input type="password" class="form-control form-control-sm" placeholder="Password" id="floatingPassword2">
                            <label for="floatingPassword">Password</label>
                        </div>
                        <div class="mt-3 text-center">
                            <button class="btn2 primaryBg text-white">Sign Up</button>
                        </div>
                    </form>
                </div>


            </div>
        </div>
    </div>
    
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>

    <script>
        $(".signup-show").click(function(){
            $(".login-form").hide();  
            $(".registration-form").show();
        });

        $(".login-show").click(function(){
            $(".registration-form").hide();
            $(".login-form").show();  
        });

        var users = [];

        function addUser(email, password) {
             var user = {
                email: email,
                password: password
            };
            users.push(user);
        }
        
        addUser("milliegregory@gmail.com","password1");
        addUser("JamesHolt@gmail.com","TheDragonLady-1")  
    
        $(".btn1.primaryBg.text-white").click(function(event){
        event.preventDefault();
        
        var input_email = $("#floatingInput").val();
        var input_password = $("#floatingPassword").val();
        
        var user = users.find(function(current) {
            return current.email === input_email && current.password === input_password;
        });
        
        if (user) {
            alert("Login successful.");
            window.location.href = "dashboard.html";
            
        } else {
            alert("Invalid email or password - try again.");
        }
        });  

        $(".btn2.primaryBg.text-white").click(function(event){
        event.preventDefault();

        var input_user = $("#floatingUsername").val();
        var input_email = $("#floatingEmail").val();
        var input_password = $("#floatingPassword2").val();

        var user = users.find(function(current) {
            return current.email === input_email && current.password === input_password;
        });

        if (user){
            alert("Account already exists please login")
        } else{
            addUser(input_email,input_password);
            alert("Account successfully created")
            console.log(users)
            window.location.href = "dashboard.html";
        }

        });
    </script>
  </body>
</html>